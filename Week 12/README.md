# 1회차 Ajax 2회차 OpenAPI 3회차 NodeJS

Content: Week 12
Assignment: Yes
Lecture: Yes
STATUS: Note

# 1. AJAX

## 서버 - 클라이언트 모델

- 네트워크를 이용하는 어플리케이션을 만들 때 이용
- 그 중에서도 웹 서버는 서버-클라이언트 모델을 적용하여 만들어짐

### 서버

- 클라이언트의 요청에 따라 파일이나 데이터를 보내주는 프로그램
- 웹 서버와 웹브라우저 중 웹 서버 중 바로 서버 역할
- 서버는 클라이언트에 스스로 연결할 수 없고, 클라이언트에서 데이터 요청이 들어와야 클라이언트에 정보를 보내준다.

### 클라이언트

- 서버에 파일이나 데이터를 요청하고 소비하는 프로그램
- 웹 서버에게 웹사이트를 표시하는데 필요한 html, css, 자바스크립트 파일 등을 요청하는 웹 파일 등을 요청하는 웹 브라우저는 클라이언트의 역할을 수행하는 프로그램

### 웹 브라우저

- 웹 서버에 HTML 파일을 요청해 다운로드하고 화면에 표시하는 프로그램
- HTML을 분석해 화면에 그리고 이미지(img)나 스크립트(src) 파일 등 추가적인 리소스가 필요하면 서버에 요청
- 모든 리소스가 로드된 후에는 서버와의 연결은 끊어지고, 사용자가 다른 페이지의 url을 담고 있는 링크를 누르기 전까지 더 이상 서버에 요청하지 않는다.
- 웹 서버-웹 브라우저 간의 작업들을 확인하려면 크롬 개발자도구(F12)에서 `네트워크` 탭 확인

## HTTP 프로토콜

- 웹 서버와 웹 브라우저가 서로 통신하는 규칙
- 요청과 응답으로 이루어짐
- 최근에는 웹 브라우저뿐만 아니라 컴퓨터 프로그램, 스마트폰 앱 등에서 널리 사용되고 있음

### HTTP 요청

- `GET` : 정보를 검색하고 요청하기 위해서 사용한다. (SELECT)
- `POST` : 정보를 추가하기 위해서 사용한다. (INSERT)
e.g. 새 글 등록, 신규 유저 가입
- `PUT` : 이미 있는 정보를 업데이트하기 위해서 사용한다. (UPDATE)
- `DELETE` : 정보를 삭제하기 위해서 사용한다. (DELETE)
- HTTP Body에 클라이언트에서 서버에 보내려 하는 데이터나 파일 등을 첨부 가능
    - `GET` 과 `DELETE` 는 정보를 보내기 위한 메서드가 아니기 때문에 Body를 첨부할 수 없음

### HTTP 응답

- 브라우저가 요청한 HTML 파일이나 JSON 데이터, 이미지 파일들 첨부 + 브라우저가 보낸 응답에 대한 상태 코드(e.g. 404)
- 숫자를 통해서 여러 상태 정의
    - 2XX: 성공
    - 3XX: 서버가 브라우저의 요청을 다른 곳으로 돌렸다는 리디렉션 메시지
    - 4XX: 사용자의 요청이 잘못되었다는 요청 (요청 오류)
    - 5XX: 요청에는 문제가 없었지만 서버측의 문제로 오류가 발생했다는 코드 (서버 오류)

## AJAX (Asynchronous JavaScript and XML)

- 브라우저에서 HTTP 요청을 보내려면 주소창에 URL을 입력하여 브라우저가 새 HTML을 서버에 요청하고 HTML에 딸린 스크립트나 이미지 등의 리소스를 모두 요청해야 함
- 화면의 일부분만 서버에서 데이터를 가져와 업데이트를 하고 싶어도 모든 리소스를 다시 요청해야 함 → 속도도 느리고 화면이 갱신되므로 사용자의 웹사이트 탐색의 연속성 저해
- AJAX는 자바스크립트를 이용해 페이지를 로드하지 않고 서버에 HTTP 요청을 하여 텍스트, JSON, HTML 등의 데이터를 받아서 자바스크립트로 HTML의 일부분만 업데이트하는 것이 가능

### Asynchronous (비동기) 실행

- 파일 로드, 네트워크 작업 수행 등의 시간이 오래 걸리는 작업을 할 때 코드를 중단하지 않고 바로 다음 라인을 실행하는 방식
- HTTP 요청을 하는 동안 자바스크립트 코드가 멈추지 않고 다음 줄이 바로 실행됨

### JQuery AJAX

- JQuery를 이용하면 간편하게 ajax 통신을 할 수 있음
- 형식
    - `$.ajax(url, options)`
    - `url`: 요청하려는 웹 리소스의 url
    - `options`: 요청에 대한 옵션
- done, fail, always 함수를 이용하여 비동기 작업이 완료되었을 때 수행할 함수 지정
- Ajax 호출을 실행하려면 html 파일이나 js 파일이 서버상에 먼저 업로드하고 브라우저에서 웹 서버를 통해 html을 요청해야 함. (또는 개발환경에서 개발용 웹서버를 설치해 테스트)

### 개발용 웹 서버

- 로컬 환경 (개발용 PC)에서 손쉽게 웹 서버 실행
- 현재 폴더 기준으로 URL을 통해 파일 접근
- Live reload 기능 제공
    - `$.ajax(url, options)`
    - url: 요청하려는 웹 리소스의 url
    - options: 요청에 대한 옵션
- Live server 다운로드 및 실행

### 사이드 메뉴 레이아웃

- 사이드 메뉴를 표시하는 HTML 문서
- 메뉴를 선택하면 해당 내용이 저장되어 있는 다른 HTML을 요청하고 화면에 표시

## 단어장 만들기

- 단어장은 JSON 형식으로 저장되어 있음
- `$.getJSON` 함수로 단어장 내용을 불러와 화면에 표시

### `$.getJSON`

- Jquery의 getJSON 함수 이용
- .ajax 함수와 비슷하지만 데이터를 자바스크립트 객체 변환

# 2. Open API

## API (Application Programming Interface)

- 운영체제나 프로그래밍 언어 기능을 사용하기 위한 인터페이스
- 예
    - 다른 프로그래밍 언어에서 운영체제의 기능을 이용하려 할 경우
        - 운영체제에서 자신의 기능에 대해 접근할 수 있는 인터페이스를 공개
        - 프로그래머에게 인터페이스에 대한 자세한 스펙 또는 명세를 제공
        - 이 명세가 바로 API

## OpenAPI

- 특정 사이트의 데이터에 접근하는 API를 공개해 외부 사이트에서 자유롭게 가공하고 사용할 수 있도록 함
- API 제공자는 API 사용료를 통해 직접적인 수익을 얻거나 사용자 유입 등을 유도할 수 있음
- API 사용자는 직접 개발하는 것보다 훨씬 적은 비용으로 기능 개발이 가능
- 대부분 Json 형태로 결과 반환

### OpenAPI 사용 절차

1. Open API 공급자 확인
    - Naver API ← Naver Developers
    - KaKaoTalk API ← KaKao Developers
2. 서비스별 인증키 발급
    - API 소비자를 식별하고 과금이나 사용량 제한 등에 사용
    - 대부분 API들은 제한량을 정해두고 무료로 사용하게 해줌
3. OPEN API 스펙 확인
    - 요청 스펙: API 공급자에게 어떻게 서비스를 요청해야 하는지 알 수 있음
    - 응답 스펙: API 요청 결과로 반환된 데이터를 어떻게 소비해야 하는지에 대해 알 수 있음
4. 구현 및 테스트

### OpenAPI의 종류

- Rest API
    - 보통의 http 통신 방식으로 API를 호출하려는 방식
    - 추가적인 라이브러리가 필요없고 어느 플랫폼에서든 사용하는 언어에서 http 통신만 지원한다면 API를 사용
    - 단순히 데이터만 제공
- 웹 JS SDK(Software Development Kit)
    - 자바스크립트 sdk는 화면에 표시될 UI와 상호작용까지 포함하고 있고 더 풍부한 서비스를 제공
    - 자바스크립트 함수로 되어있어 ajax 호출보다 사용하기 간편하고 긴 URL을 기억하지 않아도 된다는 장점이 있음
    - 대표적인 예: 지도 API
- 네이티브 SDK
    - 안드로이드나 iOS에서 실행되는 스마트폰 앱을 위해 제공되는 방식

### Query Parameter

- API 호출 결과는 크롬 브라우저에서 주소창에 API를 입력하는 것으로 확인 가능
- HTTP 요청에서 인자를 전달하는 방식 중 하나
- 인자에 이름을 부여하고 개수 제한이 없다는 것이 장점
- 주소에 정보가 공개된다는 점은 보안적으로 취약할 수 있음
- 사용방법: URL 뒤 `?` 표시로 시작
⇒ `http://example.com?date=20190601&param2=test`
    - `파라미터 이름 = 값` 으로 표시
    - 여러 개의 파라미터는 `&` 기호로 구분
    
    ![스크린샷 2023-11-11 오전 8.17.45.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_8.17.45.png)
    

## 한동대학교 API

- 따로 개발자 등록이나 API 구독 필요 없음
- 사용 전 JSON formatter 확장 프로그램 추가하기 ([https://chrome.google.com/webstore/search/json formatter?hl=ko](https://chrome.google.com/webstore/search/json%20formatter?hl=ko))
    - API 호출 전 JSON을 보기 좋게 출력해주는 플러그인을 설치하여 API 호출 결과를 확인

![스크린샷 2023-11-11 오전 8.12.14.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_8.12.14.png)

![스크린샷 2023-11-11 오전 8.12.39.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_8.12.39.png)

### 학기 정보 조회

- 지정한 날짜의 연도와 학기를 반환

| URL | http://smart.handong.edu/api/academic_calendar/semester |
| --- | --- |
| Method | GET |
| Parameter | date = [YYYYMMDD]
필수 아님 |
| Return | {
  “year”:<연도>
  “semester”:<학기>
} |

### 현재 주차 조회

- 지정한 날짜의 주차를 반환

| URL | http://smart.handong.edu/api/academic_calendar/week |
| --- | --- |
| Method | GET |
| Parameter | date = [YYYYMMDD]
필수 |
| Return | {
  “current_week”:<연도>
  “last_week”:<학기>
} |

### 학생식당 메뉴 조회

- 지정한 날짜의 식단 반환

| URL | http://smart.handong.edu/api/academic_calendar/menu |
| --- | --- |
| Method | GET |
| Parameter | date = [YYYYMMDD]
필수 아님 |
| Return | {
  “haksik”: [
  {
  “menu_kor”:<한글메뉴>
  “menu_eng”:<영문메뉴>
  “price”: <가격>
  “kcal”:<칼로리>
  },
  …
  ],
  “mams”:[…]
  “hyoam::[…]
} |

### 예제: 식단메뉴를 보여주는 간단한 웹페이지  만들기

![스크린샷 2023-11-11 오전 8.27.43.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_8.27.43.png)

```jsx
<html>
	<head>
		<style>
			table,
			th,
			td {
					border: 1px solid #bcbcbc;
			}
		</style>
		<script src="https://code.jquery.com/jquery=3.4.1.min.js"></script>
	</head>
	<body>
		<h1> 오늘의 식단</h1>
		<button id="haksikBtn">학식</button>
		<button id="momsBtn">맘스</button>
		<table>
			<thead>
				<tr>
					<th>한글메뉴</th>
					<th>가격</th>
				</tr>
			</thead>
			<tbody id="tableBody"></tbody>
		</table>
		<script src="./haksik.js"</script>
	</body>
</html>
```

- haksik.js
    - 학식메뉴와 맘스키친 메뉴를 저장할 변수
    
    ```jsx
    // 학식메뉴와 맘스키친 메뉴를 저장할 변수 각각 선언
    var haksik = [];
    var moms = [];
    
    // ajax를 사용하여 한동대학교 API로부터 식단 불러오기
    // 요청 완료시 done 함수 내의 result 변수를 통해 결과를 받게 됨
    $.ajax("http://smart.handong.edu/api/service/menu").done(function(result) {
    	haksik = result.haksik;
    	moms = result.moms;
    	//http 요청 완료 시 학식 메뉴를 기본적으로 띄우도록 설정
    	addItems(haksik);
    });
    
    //받아온 메뉴 목록을 이용해 테이블에 항목 추가
    function addItems(menuArr){
    	// for문을 이용해 메뉴가 들어있는 배열 탐색 & 각 메뉴를 tableBody에 append하여 메뉴 표시
    	for (const menu of menuArr) {
    		$("#tableBody").append(
    			'<tr><td>${menu.menu_kor}</td><td>${menu.menu_eng}<td></tr>'
    		);
    	}
    }
    
    // 버튼을 눌렀을 때 각 식당 메뉴가 번갈아가면서 나오게 만들기
    // 학식 버튼을 누르면 addItems를 호출하여 학식메뉴를 테이블에 추가
    $("#haksikBtn").click(function() {
    // 테이블에 내용이 무한정 추가되지 않도록 추가 전 내용 지우기
    $("#tableBody").html("");
    	addItems(haksik);
    });
    // 맘스 버튼을 누르면 addItems를 호출하여 맘스메뉴를 테이블에 추가
    $("momsBtn").click(function() {
    	$("#tableBody").html("");
    	addItems(moms);
    });
    ```
    

## 카카오 지도 API

- 지도를 직접 그리고 웹에서 사용할 수 있도록 프로그래밍할 필요 없이 자바스크립트 파일을 추가하는 것만으로도 간단하게 사용 가능

### 카카오 지도 API Key 발급받기

1. [카카오 지도 API 사이트](http://apis.map.kakao.com/) 접속 후, 오른쪽 상단의 `APP KEY 발급` 클릭
    
    ![스크린샷 2023-11-11 오전 9.34.58.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.34.58.png)
    
2. `시작하기`→ 카카오 아이디로 로그인
    
    ![스크린샷 2023-11-11 오전 9.35.38.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.35.38.png)
    
3. 로그인 후 `어플리케이션 추가하기` 클릭
    
    ![스크린샷 2023-11-11 오전 9.25.02.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.25.02.png)
    
4. 새로 만든 어플리케이션에 들어가서 Javascript Key 복사
    
    201c23f07b2af477a5748993a9a3268b
    
    ![스크린샷 2023-11-11 오전 9.26.24.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.26.24.png)
    
5. 필요 정보 입력
    
    ![스크린샷 2023-11-11 오전 9.25.54.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.25.54.png)
    
6. 왼쪽 설정 - **`플랫폼`** 탭 클릭
    
    ![스크린샷 2023-11-11 오전 9.29.16.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.29.16.png)
    
7. `Web 플랫폼 등록` 클릭 & 박스에 **[http://127.0.0.1:5500](http://127.0.0.1:5500)** 입력
****(live server 사용하여 웹 표시할 시 사용되는 기본주소 & 포트번호)

![스크린샷 2023-11-11 오전 9.30.38.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.30.38.png)

### 카카오 지도 웹사이트에 표시하기

1. [카카오 지도 API 사이트](http://apis.map.kakao.com/)로 돌아가서 `Web` 버튼 클릭
(1일 30만회까지 무료 사용 가능)
    
    ![스크린샷 2023-11-11 오전 9.34.58.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.34.58.png)
    
2. `시작하기` 버튼 눌러 진행하기
    
    ![스크린샷 2023-11-11 오전 9.38.03.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.38.03.png)
    
3. 스크롤 내려 시작하기 단계부터 시작

![스크린샷 2023-11-11 오전 9.41.17.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.41.17.png)

1. `map.html` 파일 만들고 시작하기 부분의 전체코드 복사해서 붙여넣기 → `발급받은 APP KEY를 넣으시면 됩니다.` 부분에 복사해놓은 APP Key를 삽입
    
    ```jsx
    <!DOCTYPE html>
    <html>
    <head>
    	<meta charset="utf-8"/>
    	<title>Kakao 지도 시작하기</title>
    </head>
    <body>
    	<div id="map" style="width:500px;height:400px;"></div>
    	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=201c23f07b2af477a5748993a9a3268b"></script>
    	<script>
    		var container = document.getElementById('map');
    		var options = {
    			center: new kakao.maps.LatLng(33.450701, 126.570667),
    			level: 3
    		};
    
    		var map = new kakao.maps.Map(container, options);
    	</script>
    </body>
    </html>
    ```
    
2. live server를 통한 결과 확인
    
    ![스크린샷 2023-11-11 오전 9.46.37.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.46.37.png)
    

### 지도상에 마커 표시하기

- 특정 지도에 표시를 남기기
1. 다시 [카카오 지도 API 사이트](http://apis.map.kakao.com/)로 이동 후 지도 사이트에서 Sample 탭 클릭
    
    ![스크린샷 2023-11-11 오전 9.49.46.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.49.46.png)
    
2. `오버레이`의 `마커 생성하기` 클릭하여 예제 확인
    
    ![스크린샷 2023-11-11 오전 9.50.58.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.50.58.png)
    
3. 샘플 코드 복사하여 `map.html` 의 `<script>...</script>`에 이어쓰기
    
    ![스크린샷 2023-11-11 오전 9.53.06.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.53.06.png)
    
    ```jsx
    var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
        mapOption = { 
            center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
            level: 3 // 지도의 확대 레벨
        };
    
    var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다
    
    // 마커가 표시될 위치입니다 
    var markerPosition  = new kakao.maps.LatLng(33.450701, 126.570667); 
    
    // 마커를 생성합니다
    var marker = new kakao.maps.Marker({
        position: markerPosition
    });
    
    // 마커가 지도 위에 표시되도록 설정합니다
    marker.setMap(map);
    
    // 아래 코드는 지도 위의 마커를 제거하는 코드입니다
    // marker.setMap(null);NodeJS
    ```
    
    ![스크린샷 2023-11-11 오전 9.56.01.png](1%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20Ajax%202%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20OpenAPI%203%E1%84%92%E1%85%AC%E1%84%8E%E1%85%A1%20NodeJS%20ff06880d0c164cb6811c1689755db4dd/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-11-11_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_9.56.01.png)
    

# 3. NodeJS

- 브라우저 외부에서 실행되는 자바스크립트 엔진
- 구글 크롬의 자바스크립트 엔진인 V8을 이용해 만들어짐
- 기본 자바스크립트 기능 외에 운영체제 기능을 활용할 수 있는 라이브러리 제공
- 주로 개발자 도구나 웹 서버 상에서 제공되는 프로그램을 작성할  때 많이 사용

## Node의 특징

### 비동기 I/O 처리

- 시간이 많이 걸리는 Input, Output 작업(처리 시간: CPU, memory << 하드디스크 및 네트워크 장치)을 비동기로 처리
- IO 작업을 처리하는 동안 코드를 중지하지 않고 바로 그 다음 코드 실행
- I/O 작업이 완료되면 그 결과를 콜백 함수의 인자로 담아 실행

### 빠른 속도

- 구글 크롬의 자바스크립트 엔진인 V8의 등장 → 자바스크립트의 속도 문제도 어느 정도 해결

### 패키지 매니저를 통한 의존성 관리

- NPM이라는 패키지 매니저를 제공
- 노드 패키지 매니저는 전세계 수 많은 사람들이 자신들의 모듈을 업로드할 수 있는 코드 저장소
- 자바 스크립트 파일에서 module 객체를 통해 외부로 자신의 함수나 객체 등을 외부로 공개 가능

### 단일 쓰레드

- 쓰레드: CPU가 동시에 여러가지 일을 처리할 수 있게 해주는 기능
- NodeJS는 스레드를 사용하지 않기 때문에 동시에 수많은 사람들이 접속을 해도 서버가 멈추지 않고 실행됨

## NPM(Node Package Manager)

- NodeJs로 만들어진 모듈 공유
- 프로젝트 의존성 관리를 위한 package.json

## JS 파일에서 NodeJS 실행

- 콘솔에서 개발한 코드는 따로 저장되지 않으므로 재현이 불가능
- 웹 페이지를 개발할 때와 마찬가지로 파일에 스크립트를 저장할 필요가 있음
- `node{파일명}` 으로 자바스크립트 파일 실행 가능
- VScode에서 Ctrl + ~를 눌러 터미널에서 `node{파일명}`  입력
- 파일로 저장된 코드를 실행할 때는 출력하기 원하는 값은 명시적으로 `console.log` 를 통해 출력해줘야 함
- 또는 VScode에서 F5 버튼을 눌러 nodejs 개발환경 선택 → Debug console에서 실행결과 확인

## NodeJS 디버깅

- 코드에서 오류가 발생하거나 예상한 결과와 다를 때 코드를 고치는 작업
- 디버깅 도구의 중요성이 높아짐
- VScode에서 개발 + 디버깅 통합
- breakpoint: 코드가 디버깅 모드에서 실행중일 때 브레이크 포인트가 있는 라인을 만나면 그 라인을 실행하기 직전 프로그램을 일시정지
- 조건부 중단점: 코드에서 문제가 생기기 쉬운 부분에 조건을 건 중단점을 추가
- 로그 프린트: 조건문 라인이 실행될 때마다 로그를 출력하는 기능

## 모듈 프로그래밍

- 여러 파일에 기능을 쪼개서 개발 (프로그램의 기능을 쪼갠다.)
- 코드 가독성이 올라가고 관리가 쉬워짐
- module.exports 객체 이용하여 함수, 변수, 배열 등 저장 후 외부 파일로 노출 가능
- require(’{파일명}’) 함수로 모듈 로드