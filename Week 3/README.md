# 1회차 AWS EC2 서버에 접속하기 2회차 vi, nano 에디터로 문서작성 3회차 리눅스쉘 명령어 익히기

Content: Week 3
Assignment: Yes
Lecture: Yes
STATUS: Note

# **1. AWS EC2 서버 접속**

## **Putty 프로그램을 이용한 서버 접속**

### Putty

- SSH(Secure Shell)를 통한 command line으로 서버 프로그램 제어

### 접속하기

1. Putty 프로그램 실행
2. Host Name에 AWS EC2 서버 호스트 IP주소 입력 **3.36.116.139**
Port: 22 **,**Connection type : SSH
3. 왼쪽 Category에서 SSH 더블 클릭 → Auth 더블 클릭 → Credentials
4. priviate key file for authentification에서 …(Browse) 버튼 클릭 → ppk 파일 찾아 클릭
5. 콘솔창 열리면 ec2-user 입력후 enter

## Win SCP 프로그램을 이용한 서버 접속

### WinSCP

- FTP(File Transfer Protocol)를 통한 서버에 파일 전송
- 서버의 파일을 직접 편집 가능

# 2. Vi, Nano 에디터를 이용한 문서 작성

## **Vi Editor**

- 윈도우 운영체제의 가장 기본적인 에디터가 메모장이라면, 유닉스나 리눅스의 운영체제의 가장 기본적이고 보편적인 screen 에디터는 vi 에디터라고 할 수 있다.

### 실행

- EC2 서버 접속 → 명령프롬프트 아래 명령어 작성 후 엔터

```bash
vi NAME.txt
```

- 만약 동일한 파일 이름이 있다면 동일한 이름의 파일이 열리고, 없다면 새로운 파일 생성
- vi 에디터를 처음 시작해서 나타나는 모드는 명령 모드이다.

### 모드

| 입력 모드 | 명령 모드 | 라스트 라인 모드 (실행모드) |
| --- | --- | --- |
| 파일에 내용을 입력할 수 있는 모드 | 텍스트를 수정하기 위해 i, a/A, o/O 중 하나를 클릭하면 파일을 수정할 수 있는 입력 모드로 전환됨 | 단어 찾기, 라인 이동, 파일 저장 및 Vi 에디터 종료 등의 명령 실행 가능 |
| • ESC :명령 모드로 전환 (입력모드 상태에서 글을 입력하다 잘못 작성 시 그을 지우려면 명령모드로 돌아가서 텍스트 삭제나 커서의 이동 등의 명령 가능) | • i : 커서 위치 앞에서부터 글자 입력
• a: 커서 위치 뒤에서부터 글자 입력
• A: 커서가 있는 행의 제일 마지막부터 글자 입력
• o: 현재 커서가 있는 행의 다음 줄에 새로운 행이 추가되면서 입력
• O: 현재 커서가 있는 행의 윗 줄에 새로운 행이 추가되면서 입력 | • / or ?: 해당 파일에서 특정 단어 찾기
• : : 문서를 저장하거나 vi 에디터를 종료하고 나갈 때

명령 실행 시 명령 모드로 자동 전환
 |

### **Vi editor 파일 작성**

1. EC2 서버에 접속하여 로그인
2. 프롬프트 상에 다음과 같은 명령어 입력하여 현재 있는 폴더의 파일 표시 & vi editor 키기 (명령모드로 실행된다)

```bash
ls
vi test.txt
```

- 입력 시
    - **********************i를 눌러********************** 입력모드로 변환 후 작성
- 수정 시
    - ****ESC 눌러**** 명령 모드로 전환 후 커서 이동& 수정
    - 커서가 있는 라인 전체를 지우려면 **d를 두 번 누르기**
    - 만약 커서가 있는 라인 포함 아래로 3줄 한꺼번에 지우고 싶다면 숫자 3과 d를 두 번 누르기
- 저장하기
    - ****ESC 눌러**** 명령 모드로 전환 → ’**:’을 눌러** 실행 모드로 전환
    - ****************‘w’(write)**************** 입력 & ******enter →****** n줄 n개의 단어가 저장되었다는 문구가 뜬다면 저장된 것

### Vi editor 기본 명령어

1. **************************************************파일 내에서의 이동**************************************************
    - **Ctrl + f** : 다음 화면의 첫 글자로
    - **Ctrl + b** : 이전 화면의 마지막 행 글자로
    - **Ctrl + d** : 화면의 1/2를 다음 내용으로
    - **Ctrl + u** : 화면의 1/2를 이전 내용으로
    - **nG** : 파일의 n번째 행으로
    e.g. **23G** : 23행으로 이동, **G, $G** : 파일의 마지막 행으로 이동
2. ********************내용 삭제********************
    - 명령모드에서 파일 내용 일부를 삭제하기 위한 명령들
        - **x** : 현재 커서 위치의 한 문자가 삭제
        - **dw** : 현재 커서 위치의 한 단어가 삭제
        - **dd** : 현재 커서 위치의 한 행이 삭제
        - **D** : 현재 커서부터 그 행의 마지막까지 삭제
3. ****************************************단어나 문자 찾기****************************************
    - 파일 내용 중 특정단어나 문자를 찾고자 할 경우 명령모드에서 실행
        - **/little**: 첫 little 단어를 파일 아래로 내려가면서 찾음
        - **?little** : 첫 little 단어를 파일 위로 올라가면서 찾음
        - **n** : 이전의 찾기 명령을 동일 방향으로 실행
        - **N** : 이전의 찾기 명령을 반대 방향으로 실행
    1. ****************************vi 종료하기****************************
    - vi는 잘못 종료할 경우 작업내용이 모두 사라지므로 주의를 요함
        - **ZZ** : 저장하고 vi 종료
        - **:wq [filename]** : 저장하고 종료 (vi 시작 시 filename이 없었다면 반드시 지정)
        - **:q!** : 저장하지 않고 무조건 종료
        - **:w** : 지금까지 작업 내용 저장
        - **:w [filename]** : 다른 이름으로 저장

## Nano Editor

- vi 대신에 사용 가능한 screen editor

### 실행

- EC2 서버 접속 → 명령프롬프트 아래 명령어 작성 후 엔터

```bash
nano NAME.txt
```

- 만약 동일한 파일 이름이 있다면 동일한 이름의 파일이 열리고, 없다면 새로운 파일 생성

### Nano **editor 파일 작성**

1. EC2 서버에 접속하여 로그인
2. 프롬프트 상에 다음과 같은 명령어 입력하여 현재 있는 폴더의 파일 표시 & nano editor 키기 (명령모드로 실행된다)
3. 내용 입력 후 **Ctrl + x** → 문구가 뜨면 **y**를 치고 **Enter**를 누른다.
4. 저장할 파일 이름을 입력하고 **Enter**를 누른다.
5. 원래의 prompt 창으로 돌아와 ls 명령어로 파일 리스트 확

### Nano editor 단축키

- **Ctrl + g (F1)** : 도움말 표시
- **Ctrl + o (F3)** : 현재 편집 중인 파일 저장
- **Ctrl + w (F6)** : text 검색
- **Ctrl + k (F9)** : 현재의 line 혹은 선택된 text 삭제
- **Ctrl + j (F4)** : 한 문단을 한 줄로 붙임
- **Ctrl + c (F11)**  : 현재의 cursor 위치 표시하기
- **Ctrl + x (F2)** : nano 종료 (현재의 file buffer를 닫음)
- **Ctrl + r (F5)** : 현재 file에 다른 file의 내용을 추가
- **Ctrl + \** :  찾기 & 대체
- **Ctrl + u (F10)** : 붙여넣기 (paste)
- **Ctrl + t (F12)** : spell check 시작
- **-** : 입력한 행번호, 열번호로 이동

# 3. 리눅스쉘 명령어 익히기

- 우리가 만든 EC2 서버는 **리눅스 운영체제 시스템**이다.
- 리눅스는 **UNIX**에서 파생된 운영체제이다.
- 원격으로 서버에 접속해 시스템을 관리하고 컨트롤하기 위해 기본적으로 Unix 쉘 명령어가 사용된다.

## UNIX Shell

- Unix shell은 간단하게 command line (명령줄)이라고도 불린다.
- 유닉스 운영체제와 유닉스 계통 시스템을 사용자가 편리하게 사용할 수 있도록 인터페이스를 제공하는 기능
- Unix는 문자열을 입력하여 쉘을 실행하여 컴퓨터를 컨트롤할 수 있다.

### UNIX 기본 명령어

1. **파일 목록 보기**
    - **사용법**
    
    ```bash
    ls - [option] - [option] - ...
    ```
    
    - **기능**
        - 현재 작업 디렉토리에 있는 모든 파일 & 디렉토리를 알파벳 순으로 나열
        - 숨김 속성이 있는 파일과 디렉토리는 나타나지 않음
    - ******옵션******
        - **-a** : 숨김 속성이 있는 파일까지 표시
        - **-F** : 파일 이름 끝에 기호를 덧붙여 파일의 종류를 볼 수 있음
        파
            - / : 디렉토리
            - * : 실행 가능한 파일
        - **-l :** long format을 의미, 파일에 대한 자세한 정보를 나열
        - **-s** : 파일의 크기를 나열
        - **-d** : 디렉리 자체의 정보를 나열
        - **-t** : 최근 사용 순서로 파일을 나열
        - **-x** : 파일을 가로로 정렬
        - **-C** : 다중 칼럼으로 나열
        - **-m** : , 로 파일을 구분
    1. **디렉토리 이동**
        - 사용법
        
        ```bash
        cd DIRECTORY_NAME # 해당 디렉토리로 이동
        cd .. # 상위 directory로 가고자 하는 경우
        ```
        
        - ******기능******
            - 작업 디렉토리를 이동하고자 하는 경우 (change directory)
            - 상위 directory로 가고자 하는 경우 (’.’은 현재의 디렉토리, ‘..’는 상위 디렉토리를 나타냄
    2. **디렉토리 생성**
        - 사용법
        
        ```bash
        mkdir DIRECTORY_NAME
        ```
        
        - ******기능******
            - 새로운 디렉토리의 생성 (make directory)
    3. **디렉토리 삭제**
        - 사용법
        
        ```bash
        rmdir DIRECTORY_NAME # 디렉토리가 비어있는 경우
        rmdir -r DIRECTORY_NAME # 디렉토리가 not empty여도 삭
        ```
        
        - ******기능******
            - Empty directory의 삭제 (remove directory)
            - Empty directory가 아닌 경우 메시지 출력
            ”mkdir: failed to remove ‘temp’: directory not empty”
    4. **파일 삭제**
        - 사용법
        
        ```bash
        rm [option] DIRECTORY_NAME
        ```
        
        - ******기능******
            - file의 삭제 (remove)
            - 경고 없이 삭제 & 복구 불가
            - Options
                - **-i :** 파일 삭제 시 다시 한 번 확인
                - **-r :** 파일과 모든 하위 directory를 삭제
    5. **파일 이동 및 이름 변경**
        - 사용법
        
        ```bash
        mv file_name file_name2 # 파일의 이름을 변경
        mv file_name2 directory # 파일을 다른 디렉토리로 이동
        ```
        
        - ******기능******
            - file의 위치를 바꾸거나 이름을 바꾸는데 사용
            - 
            - Options
                - **-i :** 파일 삭제 시 다시 한 번 확인
                - **-r :** 파일과 모든 하위 directory를 삭제
    6. **파일 복사**
        - 사용법
        
        ```bash
        cp [option] file1 file2
        ```
        
        - ******기능******
            - 파일1을 파일2로 복사 (copy)
            - 기존의 파일2가 있다면 overwrite
            - Options
                - **-i :** overwrite 방지
                - **-r :** Directory 전체를 복사